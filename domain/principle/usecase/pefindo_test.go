package usecase

import (
	"context"
	"encoding/json"
	"los-kmb-api/domain/principle/mocks"
	"los-kmb-api/models/entity"
	"los-kmb-api/models/request"
	"los-kmb-api/models/response"
	"los-kmb-api/shared/constant"
	"los-kmb-api/shared/httpclient"
	"los-kmb-api/shared/utils"
	"os"
	"strconv"
	"testing"

	"github.com/go-resty/resty/v2"
	"github.com/jarcoal/httpmock"
	"github.com/stretchr/testify/require"
)

func TestPefindo(t *testing.T) {
	os.Setenv("NAMA_SAMA", "K,P")
	os.Setenv("ACTIVE_PBK", "true")
	os.Setenv("DUMMY_PBK", "false")
	timeOut, _ := strconv.Atoi(os.Getenv("DUPCHECK_API_TIMEOUT"))

	accessToken := ""
	ctx := context.Background()
	reqID := utils.GenerateUUID()
	ctx = context.WithValue(ctx, constant.HeaderXRequestID, reqID)

	pbkCustomer := "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf"
	pbkSpouse := "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79ab36b6d_5793480682.pdf"

	testcases := []struct {
		name                      string
		checkPefindo              response.ResponsePefindo
		pefindoResult             response.PefindoResult
		customerStatus            string
		customerSegment           string
		clusterCMO                string
		bpkbName                  string
		isOverrideFlowLikeRegular bool
		reqPefindo                request.Pefindo
		respFilteringPefindo      response.Filtering
		resPefindo                response.PefindoResult
		trxDetailBiro             []entity.TrxDetailBiro
		errPefindo                error
		rPefindoCode              int
		rPefindoBody              string
		reqMappingCluster         entity.MasterMappingCluster
		resMappingCluster         entity.MasterMappingCluster
		errMappingCluster         error
		errFinal                  error
	}{
		{
			name:           "test pefindo bpkb sama",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0,
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo bpkb sama baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0,
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo bpkb sama baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0,
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) & Baki Debet > 20 Juta",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(21000000),
			},
		},
		{
			name:           "test pefindo bpkb sama new",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0,
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "NEW",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo bpkb sama new baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0,
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "NEW",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo bpkb sama new baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0,
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) & Baki Debet > 20 Juta",
				CustomerStatus:    "NEW",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(21000000),
			},
		},
		{
			name:           "test pefindo reject 12 bpkb sama",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":70,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":70,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA SAMA (III) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(70),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(70),
			},
		},
		{
			name:           "test pefindo reject 12 bpkb sama baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":70,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":70,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA SAMA (III) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(70),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(70),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo reject 12 bpkb sama baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":70,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":70,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA SAMA (III) & Baki Debet > 20 Juta",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(70),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(70),
				TotalBakiDebetNonAgunan:       float64(21000000),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA SAMA (III) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA SAMA (III) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA SAMA (III) & Baki Debet > 20 Juta",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(21000000),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama baki debet <=3jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":true,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":70,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA SAMA (III) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				WoAdaAgunan:                   true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(70),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":true,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":70,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA SAMA (III) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				WoAdaAgunan:                   true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(70),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":true,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":70,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA SAMA (III) & Baki Debet > 20 Juta",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				WoAdaAgunan:                   true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(70),
				TotalBakiDebetNonAgunan:       float64(21000000),
			},
		},
		{
			name:           "test pefindo pass current bpkb sama ao/ro",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":true,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 10,
			"max_overdue_last12months_ko_rules": 10},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":70,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (III) & Ada Fasilitas WO Agunan",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				WoAdaAgunan:                   true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(10),
				MaxOverdueLast12MonthsKORules: float64(10),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo pass bpkb beda baki debet <3jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo pass bpkb beda baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo pass bpkb beda baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) & Baki Debet > 20 Juta",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(21000000),
			},
		},
		{
			name:           "test pefindo pass bpkb beda new baki debet <3jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "NEW",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo pass bpkb beda new baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "NEW",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo pass bpkb beda new baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) & Baki Debet > 20 Juta",
				CustomerStatus:    "NEW",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(21000000),
			},
		},
		{
			name:           "test pefindo reject bpkb beda new",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA BEDA (I) & Tidak Ada Fasilitas WO Agunan",
				CustomerStatus:    "NEW",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(70),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo ovd last 12m all reject bpkb beda ",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":61,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":61,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA BEDA & OVD Tidak sesuai ketentuan",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(61),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo ovd current all reject current bpkb beda",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA BEDA & OVD Tidak sesuai ketentuan",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo reject current bpkb beda",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":null,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":null,"max_overdue_last12months":0,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":null,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    nil,
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo reject current bpkb beda",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":null,"max_overdue_last12months":null,"angsuran_aktif_pbk":702009,"wo_contract":false,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":null,"max_overdue_last12months":null,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":null,"max_overdue_last12months":null,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    nil,
				MaxOverdueLast12Months:        nil,
				AngsuranAktifPbk:              float64(702009),
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo reject current bpkb beda baki debet <=3jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":true,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":70,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA BEDA (III) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				WoAdaAgunan:                   true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(70),
			},
		},
		{
			name:           "test pefindo reject current bpkb beda baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":true,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":70,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA BEDA (III) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				WoAdaAgunan:                   true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(70),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo reject current bpkb beda baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":true,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 3,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":70,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA BEDA (III) & Baki Debet > 20 Juta",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				WoAdaAgunan:                   true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(3),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(70),
				TotalBakiDebetNonAgunan:       float64(21000000),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama baki debet <=3jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "NEW",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "NEW",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) & Baki Debet > 20 Juta",
				CustomerStatus:    "NEW",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              float64(702009),
				TotalBakiDebetNonAgunan:       float64(21000000),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama ao/ro baki debet <=3jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama ao/ro baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo reject current bpkb sama ao/ro baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_SAMA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "K",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   1,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9103",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA SAMA (I) & Baki Debet > 20 Juta",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              float64(702009),
				TotalBakiDebetNonAgunan:       float64(21000000),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo pass bpkb beda new baki debet <3jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "NEW",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo pass bpkb beda new baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "NEW",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo pass bpkb beda new baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) & Baki Debet > 20 Juta",
				CustomerStatus:    "NEW",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(21000000),
			},
		},
		{
			name:           "test pefindo reject bpkb beda new",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 40,
			"max_overdue_last12months_ko_rules": 70},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9107",
				Decision:          constant.DECISION_REJECT,
				Reason:            "NAMA BEDA (I) & Tidak Ada Fasilitas WO Agunan",
				CustomerStatus:    "NEW",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(40),
				MaxOverdueLast12MonthsKORules: float64(70),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo pass bpkb beda ao/ro baki debet <3jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) " + constant.WORDING_BAKIDEBET_LOWERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(0),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo pass bpkb beda ao/ro baki debet 3-20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":18000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) " + constant.WORDING_BAKIDEBET_HIGHERTHAN_THRESHOLD,
				CustomerStatus:    "RO",
				NextProcess:       true,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(18000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(18000000),
			},
		},
		{
			name:           "test pefindo pass bpkb beda ao/ro baki debet >20jt",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              "9096",
				Decision:          constant.DECISION_PASS,
				Reason:            "NAMA BEDA (I) & Baki Debet > 20 Juta",
				CustomerStatus:    "RO",
				NextProcess:       false,
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
				TotalBakiDebet:    float64(21000000),
				Cluster:           "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(0),
				MaxOverdueLast12Months:        float64(0),
				AngsuranAktifPbk:              float64(702009),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				TotalBakiDebetNonAgunan:       float64(21000000),
			},
		},
		{
			name:           "test pefindo reject current bpkb beda",
			customerStatus: constant.STATUS_KONSUMEN_RO,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"201","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "AO/RO",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:     "SAL02400020230727001",
				Code:           "9190",
				Decision:       constant.DECISION_PASS,
				Reason:         "PBK Tidak Ditemukan - RO",
				CustomerStatus: "RO",
				NextProcess:    true,
				Cluster:        "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              float64(702009),
				TotalBakiDebetNonAgunan:       float64(21000000),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo reject current bpkb beda",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"201","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:     "SAL02400020230727001",
				Code:           "9192",
				Decision:       constant.DECISION_PASS,
				Reason:         "PBK Tidak Ditemukan - NEW",
				CustomerStatus: "NEW",
				NextProcess:    true,
				Cluster:        "Cluster B",
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              float64(702009),
				TotalBakiDebetNonAgunan:       float64(21000000),
				WoContract:                    true,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
			},
		},
		{
			name:           "test pefindo reject current bpkb beda",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"202","status":"SUCCESS",
			"result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,
			"total_baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf",
			"category": 1,
			"max_overdue_ko_rules": 0,
			"max_overdue_last12months_ko_rules": 0},
			"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK",
			"max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":21000000,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79a65a904_6108521441.pdf"},
			"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK",
			"max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,
			"baki_debet_non_agunan":0,"detail_report":"http:\/\/10.0.0.170\/los-symlink\/pefindo\/pdf\/pdf_kp_64bb79ab36b6d_5793480682.pdf"},
			"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:     "SAL02400020230727001",
				Code:           "9195",
				Reason:         "No Hit PBK",
				CustomerStatus: "NEW",
				Decision:       constant.DECISION_PASS,
				NextProcess:    true,
				Cluster:        "Cluster B",
			},
		},
		{
			name:           "reject new ko rules category pbk lunas diskon",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS","result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,"total_baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","category":1,"max_overdue_ko_rules":0,"max_overdue_last12months_ko_rules":0,"new_ko_rules":{"category_pbk":"lunas_diskon","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","new_ko_rules":{"category_pbk":"lunas_diskon","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK","max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":0,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79ab36b6d_5793480682.pdf"},"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              constant.CODE_REJECT_LUNAS_DISKON,
				Reason:            constant.REASON_LUNAS_DISKON,
				CustomerStatus:    "NEW",
				Decision:          constant.DECISION_REJECT,
				NextProcess:       false,
				Cluster:           "Cluster B",
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              702009,
				WoContract:                    true,
				TotalBakiDebetNonAgunan:       21000000,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				NewKoRules: response.ResultNewKoRules{
					CategoryPBK:       "lunas_diskon",
					ContractCode:      "1070007119003",
					ContractStatus:    "Settled",
					CreditorType:      "NotSpecified",
					Creditor:          "PT.MANDIRI Finance",
					ConditionDate:     "2023-10-11",
					RestructuringDate: "2024-11-11",
				},
			},
		},
		{
			name:           "reject new ko rules category pbk fasilitas dialihkan dijual",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS","result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,"total_baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","category":1,"max_overdue_ko_rules":0,"max_overdue_last12months_ko_rules":0,"new_ko_rules":{"category_pbk":"fasilitas_dialihkan_dijual","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","new_ko_rules":{"category_pbk":"fasilitas_dialihkan_dijual","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK","max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":0,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79ab36b6d_5793480682.pdf"},"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              constant.CODE_REJECT_FASILITAS_DIALIHKAN_DIJUAL,
				Reason:            constant.REASON_FASILITAS_DIALIHKAN_DIJUAL,
				CustomerStatus:    "NEW",
				Decision:          constant.DECISION_REJECT,
				NextProcess:       false,
				Cluster:           "Cluster B",
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              702009,
				WoContract:                    true,
				TotalBakiDebetNonAgunan:       21000000,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				NewKoRules: response.ResultNewKoRules{
					CategoryPBK:       "fasilitas_dialihkan_dijual",
					ContractCode:      "1070007119003",
					ContractStatus:    "Settled",
					CreditorType:      "NotSpecified",
					Creditor:          "PT.MANDIRI Finance",
					ConditionDate:     "2023-10-11",
					RestructuringDate: "2024-11-11",
				},
			},
		},
		{
			name:           "reject new ko rules category pbk hapus tagih",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS","result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,"total_baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","category":1,"max_overdue_ko_rules":0,"max_overdue_last12months_ko_rules":0,"new_ko_rules":{"category_pbk":"hapus_tagih","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","new_ko_rules":{"category_pbk":"hapus_tagih","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK","max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":0,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79ab36b6d_5793480682.pdf"},"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              constant.CODE_REJECT_HAPUS_TAGIH,
				Reason:            constant.REASON_HAPUS_TAGIH,
				CustomerStatus:    "NEW",
				Decision:          constant.DECISION_REJECT,
				NextProcess:       false,
				Cluster:           "Cluster B",
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              702009,
				WoContract:                    true,
				TotalBakiDebetNonAgunan:       21000000,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				NewKoRules: response.ResultNewKoRules{
					CategoryPBK:       "hapus_tagih",
					ContractCode:      "1070007119003",
					ContractStatus:    "Settled",
					CreditorType:      "NotSpecified",
					Creditor:          "PT.MANDIRI Finance",
					ConditionDate:     "2023-10-11",
					RestructuringDate: "2024-11-11",
				},
			},
		},
		{
			name:           "reject new ko rules category pbk repossess",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS","result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,"total_baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","category":1,"max_overdue_ko_rules":0,"max_overdue_last12months_ko_rules":0,"new_ko_rules":{"category_pbk":"repossess","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","new_ko_rules":{"category_pbk":"repossess","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK","max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":0,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79ab36b6d_5793480682.pdf"},"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              constant.CODE_REJECT_REPOSSES,
				Reason:            constant.REASON_REPOSSES,
				CustomerStatus:    "NEW",
				Decision:          constant.DECISION_REJECT,
				NextProcess:       false,
				Cluster:           "Cluster B",
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              702009,
				WoContract:                    true,
				TotalBakiDebetNonAgunan:       21000000,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				NewKoRules: response.ResultNewKoRules{
					CategoryPBK:       "repossess",
					ContractCode:      "1070007119003",
					ContractStatus:    "Settled",
					CreditorType:      "NotSpecified",
					Creditor:          "PT.MANDIRI Finance",
					ConditionDate:     "2023-10-11",
					RestructuringDate: "2024-11-11",
				},
			},
		},
		{
			name:           "reject new ko rules category pbk restructure",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS","result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,"total_baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","category":1,"max_overdue_ko_rules":0,"max_overdue_last12months_ko_rules":0,"new_ko_rules":{"category_pbk":"restructure","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","new_ko_rules":{"category_pbk":"restructure","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK","max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":0,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79ab36b6d_5793480682.pdf"},"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              constant.CODE_REJECT_RESTRUCTURE,
				Reason:            constant.REASON_RESTRUCTURE,
				CustomerStatus:    "NEW",
				Decision:          constant.DECISION_REJECT,
				NextProcess:       false,
				Cluster:           "Cluster B",
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              702009,
				WoContract:                    true,
				TotalBakiDebetNonAgunan:       21000000,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				NewKoRules: response.ResultNewKoRules{
					CategoryPBK:       "restructure",
					ContractCode:      "1070007119003",
					ContractStatus:    "Settled",
					CreditorType:      "NotSpecified",
					Creditor:          "PT.MANDIRI Finance",
					ConditionDate:     "2023-10-11",
					RestructuringDate: "2024-11-11",
				},
			},
		},
		{
			name:           "reject inquiry 1 months",
			customerStatus: constant.STATUS_KONSUMEN_NEW,
			clusterCMO:     constant.CLUSTER_C,
			bpkbName:       constant.BPKB_NAMA_BEDA,
			reqPefindo: request.Pefindo{
				ClientKey:               os.Getenv("CLIENTKEY_CORE_PBK"),
				IDMember:                constant.USER_PBK_KMB_FILTEERING,
				User:                    constant.USER_PBK_KMB_FILTEERING,
				ProspectID:              "SAL02400020230727001",
				BPKBName:                "KK",
				BranchID:                "426",
				IDNumber:                "3275066006789999",
				LegalName:               "EMI LegalName",
				BirthDate:               "1971-04-15",
				Gender:                  "M",
				SurgateMotherName:       "HAROEMI MotherName",
				SpouseIDNumber:          "3345270510910123",
				SpouseLegalName:         "DIANA LegalName",
				SpouseBirthDate:         "1995-08-28",
				SpouseGender:            "F",
				SpouseSurgateMotherName: "ELSA",
				MaritalStatus:           "M",
			},
			rPefindoCode: 200,
			rPefindoBody: `{"code":"200","status":"SUCCESS","result":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":702009,"wo_contract":true,"wo_ada_agunan":false,"total_baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","category":1,"max_overdue_ko_rules":0,"max_overdue_last12months_ko_rules":0,"new_ko_rules":{"category_pbk":"restructure","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"},"inquiries_last1months":11},"konsumen":{"search_id":"kp_64bb79a65a904","pefindo_id":"6108521441","score":"AVERAGE RISK","max_overdue":40,"max_overdue_last12months":45,"angsuran_aktif_pbk":0,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":21000000,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf","new_ko_rules":{"category_pbk":"restructure","contract_code":"1070007119003","contract_status":"Settled","creditor_type":"NotSpecified","creditor":"PT.MANDIRI Finance","condition_date":"2023-10-11","restructuring_date":"2024-11-11"}},"pasangan":{"search_id":"kp_64bb79ab36b6d","pefindo_id":"5793480682","score":"AVERAGE RISK","max_overdue":0,"max_overdue_last12months":0,"angsuran_aktif_pbk":702009,"wo_contract":0,"wo_ada_agunan":0,"baki_debet_non_agunan":0,"detail_report":"http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79ab36b6d_5793480682.pdf"},"server_time":"2023-07-22T13:39:45+07:00","duration_time":"11000 ms"}`,
			reqMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
			},
			resMappingCluster: entity.MasterMappingCluster{
				BranchID:       "426",
				CustomerStatus: "NEW",
				BpkbNameType:   0,
				Cluster:        "Cluster B",
			},
			respFilteringPefindo: response.Filtering{
				ProspectID:        "SAL02400020230727001",
				Code:              constant.CODE_REJECT_INQUIRY_1MONTHS,
				Reason:            constant.REASON_INQUIRY_1MONTHS,
				CustomerStatus:    "NEW",
				Decision:          constant.DECISION_REJECT,
				NextProcess:       false,
				Cluster:           "Cluster B",
				PbkReportCustomer: &pbkCustomer,
				PbkReportSpouse:   &pbkSpouse,
			},
			resPefindo: response.PefindoResult{
				SearchID:                      "kp_64bb79a65a904",
				PefindoID:                     "6108521441",
				Score:                         "AVERAGE RISK",
				MaxOverdue:                    float64(40),
				MaxOverdueLast12Months:        float64(45),
				AngsuranAktifPbk:              702009,
				WoContract:                    true,
				TotalBakiDebetNonAgunan:       21000000,
				DetailReport:                  "http://10.0.0.170/los-symlink/pefindo/pdf/pdf_kp_64bb79a65a904_6108521441.pdf",
				Category:                      float64(1),
				MaxOverdueKORules:             float64(0),
				MaxOverdueLast12MonthsKORules: float64(0),
				InquiriesLast1Month:           11,
				NewKoRules: response.ResultNewKoRules{
					CategoryPBK:       "restructure",
					ContractCode:      "1070007119003",
					ContractStatus:    "Settled",
					CreditorType:      "NotSpecified",
					Creditor:          "PT.MANDIRI Finance",
					ConditionDate:     "2023-10-11",
					RestructuringDate: "2024-11-11",
				},
			},
		},
	}
	for _, tc := range testcases {
		t.Run(tc.name, func(t *testing.T) {
			mockRepository := new(mocks.Repository)
			mockHttpClient := new(httpclient.MockHttpClient)

			mockRepository.On("MasterMappingCluster", tc.reqMappingCluster).Return(tc.resMappingCluster, tc.errMappingCluster)

			rst := resty.New()
			httpmock.ActivateNonDefault(rst.GetClient())
			defer httpmock.DeactivateAndReset()

			httpmock.RegisterResponder(constant.METHOD_POST, os.Getenv("NEW_KMB_PBK_URL"), httpmock.NewStringResponder(tc.rPefindoCode, tc.rPefindoBody))
			resp, _ := rst.R().Post(os.Getenv("NEW_KMB_PBK_URL"))

			param, _ := json.Marshal(tc.reqPefindo)
			mockHttpClient.On("EngineAPI", ctx, constant.DILEN_KMB_LOG, os.Getenv("NEW_KMB_PBK_URL"), param, map[string]string{}, constant.METHOD_POST, false, 0, timeOut, tc.reqPefindo.ProspectID, accessToken).Return(resp, tc.errPefindo).Once()
			usecase := NewUsecase(mockRepository, mockHttpClient, nil)

			rFilteringPefindo, rPefindo, _, err := usecase.Pefindo(ctx, tc.reqPefindo, tc.customerStatus, tc.customerSegment, tc.clusterCMO, tc.bpkbName, tc.isOverrideFlowLikeRegular)
			require.Equal(t, tc.respFilteringPefindo, rFilteringPefindo)
			require.Equal(t, tc.resPefindo, rPefindo)
			require.Equal(t, tc.errFinal, err)
		})
	}
}
