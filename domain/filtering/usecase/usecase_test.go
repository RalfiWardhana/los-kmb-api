package usecase

import (
	"context"
	"errors"
	"fmt"
	elaborateMock "los-kmb-api/domain/elaborate/interfaces/mocks"
	filteringMock "los-kmb-api/domain/filtering/interfaces/mocks"
	"los-kmb-api/models/entity"
	"los-kmb-api/models/request"
	"los-kmb-api/models/response"
	"los-kmb-api/shared/constant"
	"los-kmb-api/shared/httpclient"
	"los-kmb-api/shared/utils"
	"os"
	"strconv"
	"testing"

	"github.com/go-resty/resty/v2"
	"github.com/jarcoal/httpmock"
	"github.com/stretchr/testify/mock"
	"github.com/stretchr/testify/require"
)

func TestFiltering(t *testing.T) {
	accessToken := "token"
	ctx := context.Background()
	reqID := utils.GenerateUUID()
	ctx = context.WithValue(ctx, constant.HeaderXRequestID, reqID)

	testCases := []struct {
		name                   string
		req                    request.FilteringRequest
		errSaveData            error
		resFilteringBlackList  response.DupcheckResult
		errFilteringBlackList  error
		resCheckStatusCategory response.DupcheckResult
		errCheckStatusCategory error
		resFilteringPefindo    response.DupcheckResult
		errFilteringPefindo    error
		errUpdateData          error
		resFinal               response.DupcheckResult
		errFinal               error
	}{
		{
			name: "TEST_ERROR_Filtering_SaveData",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			errSaveData: errors.New("failed process dupcheck"),
			errFinal:    errors.New("failed process dupcheck"),
		},
		{
			name: "TEST_ERROR_Filtering_FilteringBlackList",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resFilteringBlackList: response.DupcheckResult{},
			errFilteringBlackList: errors.New("failed process check blacklist"),
			errFinal:              errors.New("failed process check blacklist"),
		},
		{
			name: "TEST_REJECT_Filtering_FilteringBlackList",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resFilteringBlackList: response.DupcheckResult{
				Code:     constant.CODE_BADTYPE_B_SPOSE_BADTYPE_B,
				Decision: constant.DECISION_REJECT,
				Reason:   constant.REASON_BADTYPE_B + " & " + constant.REASON_SPOSE_BADTYPE_B,
			},
			resFinal: response.DupcheckResult{
				Code:        constant.CODE_BADTYPE_B_SPOSE_BADTYPE_B,
				Decision:    constant.DECISION_REJECT,
				Reason:      constant.REASON_BADTYPE_B + " & " + constant.REASON_SPOSE_BADTYPE_B,
				IsBlacklist: 0,
			},
		},
		{
			name: "TEST_PASS_Filtering_FilteringBlackList",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resFilteringBlackList: response.DupcheckResult{
				Code:     constant.CODE_NEW_CUSTOMER_SPOSE_BERSIH,
				Decision: constant.DECISION_PASS,
				Reason:   constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_SPOSE_BERSIH,
			},
		},
		{
			name: "TEST_ERROR_Filtering_CheckStatusCategory",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resFilteringBlackList: response.DupcheckResult{
				Code:     constant.CODE_NEW_CUSTOMER_SPOSE_BERSIH,
				Decision: constant.DECISION_PASS,
				Reason:   constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_SPOSE_BERSIH,
			},
			errCheckStatusCategory: errors.New("failed fetching data customer domain"),
			errFinal:               errors.New("failed fetching data customer domain"),
		},
		{
			name: "TEST_ERROR_Filtering_FilteringPefindo",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resFilteringBlackList: response.DupcheckResult{
				Code:     constant.CODE_NEW_CUSTOMER_SPOSE_BERSIH,
				Decision: constant.DECISION_PASS,
				Reason:   constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_SPOSE_BERSIH,
			},
			resCheckStatusCategory: response.DupcheckResult{
				Code:     constant.CUSTOMER_STATUS_CODE_NEW,
				Decision: constant.DECISION_PASS,
				Reason:   constant.REASON_CUSTOMER_STATUS_CODE_NEW,
			},
			errFilteringPefindo: errors.New("failed fetching data pefindo"),
			errFinal:            errors.New("failed fetching data pefindo"),
		},
		{
			name: "TEST_PASS_Filtering_FilteringPefindo_PrimePriority",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resFilteringBlackList: response.DupcheckResult{
				Code:     constant.CODE_NEW_CUSTOMER_SPOSE_BERSIH,
				Decision: constant.DECISION_PASS,
				Reason:   constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_SPOSE_BERSIH,
			},
			resCheckStatusCategory: response.DupcheckResult{
				Code:                   constant.CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				Decision:               constant.DECISION_PASS,
				Reason:                 constant.REASON_CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				StatusKonsumen:         constant.STATUS_KONSUMEN_RO_AO,
				KategoriStatusKonsumen: constant.RO_AO_PRIME,
				NextProcess:            1,
			},
			resFinal: response.DupcheckResult{
				Code:                   constant.CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				Decision:               constant.DECISION_PASS,
				Reason:                 constant.REASON_CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				KategoriStatusKonsumen: constant.RO_AO_PRIME,
				NextProcess:            1,
			},
		},
		{
			name: "TEST_ERROR_Filtering_UpdateData",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resFilteringBlackList: response.DupcheckResult{
				Code:     constant.CODE_NEW_CUSTOMER_SPOSE_BERSIH,
				Decision: constant.DECISION_PASS,
				Reason:   constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_SPOSE_BERSIH,
			},
			resCheckStatusCategory: response.DupcheckResult{
				Code:                   constant.CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				Decision:               constant.DECISION_PASS,
				Reason:                 constant.REASON_CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				StatusKonsumen:         constant.STATUS_KONSUMEN_RO_AO,
				KategoriStatusKonsumen: constant.RO_AO_PRIME,
				NextProcess:            1,
			},
			errUpdateData: errors.New("failed update data filtering"),
			resFinal: response.DupcheckResult{
				Code:                   constant.CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				Decision:               constant.DECISION_PASS,
				Reason:                 constant.REASON_CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				KategoriStatusKonsumen: constant.RO_AO_PRIME,
				NextProcess:            1,
			},
			errFinal: errors.New("failed update data filtering"),
		},
	}

	for _, tc := range testCases {
		t.Run(tc.name, func(t *testing.T) {
			mockUsecase := new(filteringMock.Usecase)
			mockRepository := new(filteringMock.Repository)
			mockHttpClient := new(httpclient.MockHttpClient)

			mockRepository.On("SaveData", mock.Anything, mock.Anything).Return(tc.errSaveData)
			mockUsecase.On("FilteringBlackList", ctx, tc.req, accessToken).Return(tc.resFilteringBlackList, tc.errFilteringBlackList).Once()
			mockUsecase.On("CheckStatusCategory", ctx, tc.req, tc.resFilteringBlackList.StatusKonsumen, accessToken).Return(tc.resCheckStatusCategory, tc.errCheckStatusCategory).Once()
			mockUsecase.On("FilteringPefindo", ctx, tc.req, tc.resCheckStatusCategory.StatusKonsumen, tc.resCheckStatusCategory.KategoriStatusKonsumen, accessToken).Return(tc.resFilteringPefindo, false, tc.errFilteringPefindo).Once()
			mockRepository.On("UpdateData", mock.Anything).Return(tc.errUpdateData)

			rst := resty.New()
			httpmock.ActivateNonDefault(rst.GetClient())
			defer httpmock.DeactivateAndReset()

			httpmock.RegisterResponder(constant.METHOD_POST, os.Getenv("DUPCHECK_URL"), httpmock.NewStringResponder(200, "OK"))
			resp, _ := rst.R().Post(os.Getenv("DUPCHECK_URL"))
			mockHttpClient.On("EngineAPI", ctx, mock.Anything, mock.Anything, mock.Anything, mock.Anything, mock.Anything, mock.Anything, mock.Anything, mock.Anything, mock.Anything, mock.Anything).Return(resp, nil)

			multiUsecase, _ := NewMultiUsecase(mockRepository, mockHttpClient, mockUsecase)

			result, err := multiUsecase.Filtering(ctx, tc.req, accessToken)

			require.Equal(t, tc.resFinal, result)
			require.Equal(t, tc.errFinal, err)
		})
	}
}

func TestFilteringBlackList(t *testing.T) {
	accessToken := "token"
	ctx := context.Background()
	reqID := utils.GenerateUUID()
	ctx = context.WithValue(ctx, constant.HeaderXRequestID, reqID)
	timeOut, _ := strconv.Atoi(os.Getenv("DUPCHECK_API_TIMEOUT"))

	testCases := []struct {
		name                  string
		req                   request.FilteringRequest
		resDupcheckCode       int
		resDupcheckBody       string
		errDupcheck           error
		resDupcheckCodeSpouse int
		resDupcheckBodySpouse string
		errDupcheckSpouse     error
		errUpdateData         error
		errUpdateDataSpouse   error
		resFinal              response.DupcheckResult
		errFinal              error
	}{
		{
			name: "TEST_ERROR_FilteringBlackList_ProcessDupcheck",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 400,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": [
					{
						"field": "transaction_id",
						"message": "required"
					},
					{
						"field": "id_number",
						"message": "required"
					},
					{
						"field": "legal_name",
						"message": "accepted:min=2"
					},
					{
						"field": "birth_date",
						"message": "required"
					},
					{
						"field": "surgate_mother_name",
						"message": "accepted:min=2"
					}
				],
				"data": null,
				"server_time": "2023-12-01T20:07:16+07:00",
				"request_id": ""
			}`,
			errDupcheck: errors.New("failed process dupcheck"),
			errFinal:    errors.New("failed process dupcheck"),
		},
		{
			name: "TEST_ERROR_FilteringBlackList_UpdateData",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			errUpdateData: errors.New("failed process update data filtering blacklist"),
			errFinal:      errors.New("failed process update data filtering blacklist"),
		},
		{
			name: "TEST_ERROR_FilteringBlackList_UnmarshalDupcheckResponse",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `-`,
			errFinal:        errors.New("error unmarshal dupcheck response"),
		},
		{
			name: "TEST_ERROR_FilteringBlackList_ProcessDupcheckSpouse",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 400,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": [
					{
						"field": "transaction_id",
						"message": "required"
					},
					{
						"field": "id_number",
						"message": "required"
					},
					{
						"field": "legal_name",
						"message": "accepted:min=2"
					},
					{
						"field": "birth_date",
						"message": "required"
					},
					{
						"field": "surgate_mother_name",
						"message": "accepted:min=2"
					}
				],
				"data": null,
				"server_time": "2023-12-01T20:07:16+07:00",
				"request_id": ""
			}`,
			errDupcheckSpouse: errors.New("failed process dupcheck spouse"),
			errFinal:          errors.New("failed process dupcheck spouse"),
		},
		{
			name: "TEST_ERROR_FilteringBlackList_UpdateDataSpouse",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			errUpdateDataSpouse: errors.New("failed process update data filtering dupcheck spouse"),
			errFinal:            errors.New("failed process update data filtering dupcheck spouse"),
		},
		{
			name: "TEST_ERROR_FilteringBlackList_UnmarshalDupcheckSpouse",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `-`,
			errFinal:              errors.New("error unmarshal dupcheck spouse response"),
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenNew_PasanganBlacklist_BadTypeB",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NEW_CUSTOMER_SPOSE_BADTYPE_B,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_SPOSE_BADTYPE_B,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				IsBlacklist:    1,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenNew_PasanganBlacklist_MaxOVD>90",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NEW_CUSTOMER_SPOSE_MAX_OVER_DUE_DAYS,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_SPOSE_MAX_OVER_DUE_DAYS,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				IsBlacklist:    1,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenNew_PasanganBlacklist_NumOfAssetInventoried>0",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NEW_CUSTOMER_SPOSE_NUM_OF_ASSET_INVENTORIED,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_SPOSE_NUM_OF_ASSET_INVENTORIED,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				IsBlacklist:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringBlackList_KonsumenNew_PasanganBlacklist_Restructure",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NEW_CUSTOMER_SPOSE,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_IS_RESTRUCTURE,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				IsBlacklist:    0,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringBlackList_KonsumenNew_PasanganBersih_DupcheckNotEmpty",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3345270510910123",
					"full_name": "TEST SPOUSE LEGAL NAME",
					"birth_date": "1995-08-28",
					"surgate_mother_name": "TEST SPOUSE MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "F",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NEW_CUSTOMER_SPOSE_BERSIH,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_SPOSE_BERSIH,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				IsBlacklist:    0,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringBlackList_KonsumenNew_PasanganBersih_DupcheckEmpty",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NEW_CUSTOMER_SPOSE,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_NEW_CUSTOMER + " & " + constant.REASON_PASANGAN_BARU,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				IsBlacklist:    0,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringBlackList_KonsumenNew",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NEW_CUSTOMER,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_NEW_CUSTOMER,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				IsBlacklist:    0,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBersih_PasanganBlackList_BadTypeB",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BERSIH_SPOSE_BADTYPE_B,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BERSIH + " & " + constant.REASON_SPOSE_BADTYPE_B,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBersih_PasanganBlackList_MaxOVD>90",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BERSIH_SPOSE_MAX_OVER_DUE_DAYS,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BERSIH + " & " + constant.REASON_SPOSE_MAX_OVER_DUE_DAYS,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBersih_PasanganBlacklist_NumOfAssetInventoried>0",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BERSIH_SPOSE_NUM_OF_ASSET_INVENTORIED,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BERSIH + " & " + constant.REASON_SPOSE_NUM_OF_ASSET_INVENTORIED,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBersih_PasanganBlacklist_Restructure",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_SPOSE_IS_RESTRUCTURE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BERSIH + " & " + constant.REASON_IS_RESTRUCTURE,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_PASS_FilteringBlackList_KonsumenROAOBersih_PasanganBersih_DupcheckNotEmpty",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3345270510910123",
					"full_name": "TEST SPOUSE LEGAL NAME",
					"birth_date": "1995-08-28",
					"surgate_mother_name": "TEST SPOUSE MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "F",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BERSIH_SPOSE_BERSIH,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_BERSIH + " & " + constant.REASON_SPOSE_BERSIH,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    0,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringBlackList_KonsumenROAOBersih_PasanganBersih_DupcheckEmpty",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BERSIH_SPOSE,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_BERSIH + " & " + constant.REASON_PASANGAN_BARU,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    0,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringBlackList_KonsumenROAOBersih",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BERSIH,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_BERSIH,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    0,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_BadTypeB_PasanganBlackList_BadTypeB",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BADTYPE_B_SPOSE_BADTYPE_B,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BADTYPE_B + " & " + constant.REASON_SPOSE_BADTYPE_B,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_BadTypeB_PasanganBlackList_MaxOVD>90",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BADTYPE_B_SPOSE_MAX_OVER_DUE_DAYS,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BADTYPE_B + " & " + constant.REASON_SPOSE_MAX_OVER_DUE_DAYS,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_BadTypeB_PasanganBlacklist_NumOfAssetInventoried>0",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BADTYPE_B_SPOSE_NUM_OF_ASSET_INVENTORIED,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BADTYPE_B + " & " + constant.REASON_SPOSE_NUM_OF_ASSET_INVENTORIED,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_BadTypeB_PasanganBlacklist_Restructure",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BADTYPE_B_SPOSE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BADTYPE_B + " & " + constant.REASON_IS_RESTRUCTURE,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_BadTypeB_PasanganBersih",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BADTYPE_B_SPOSE_BERSIH,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BADTYPE_B + " & " + constant.REASON_SPOSE_BERSIH,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_BadTypeB_PasanganNew",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BADTYPE_B_SPOSE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BADTYPE_B + " & " + constant.REASON_PASANGAN_BARU,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_BadTypeB",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_BADTYPE_B,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_BADTYPE_B,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_MaxOVD>90_PasanganBlackList_BadTypeB",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_MAX_OVER_DUE_DAYS_SPOSE_BADTYPE_B,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_MAX_OVER_DUE_DAYS + " & " + constant.REASON_SPOSE_BADTYPE_B,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_MaxOVD>90_PasanganBlackList_MaxOVD>90",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_MAX_OVER_DUE_DAYS_SPOSE_MAX_OVER_DUE_DAYS,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_MAX_OVER_DUE_DAYS + " & " + constant.REASON_SPOSE_MAX_OVER_DUE_DAYS,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_MaxOVD>90_PasanganBlacklist_NumOfAssetInventoried>0",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_MAX_OVER_DUE_DAYS_SPOSE_NUM_OF_ASSET_INVENTORIED,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_MAX_OVER_DUE_DAYS + " & " + constant.REASON_SPOSE_NUM_OF_ASSET_INVENTORIED,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_MaxOVD>90_PasanganBlacklist_Restructure",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_MAX_OVER_DUE_DAYS_SPOSE_IS_RESTRUCTURE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_MAX_OVER_DUE_DAYS + " & " + constant.REASON_IS_RESTRUCTURE,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_MaxOVD>90_PasanganBersih",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_MAX_OVER_DUE_DAYS_SPOSE_BERSIH,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_MAX_OVER_DUE_DAYS + " & " + constant.REASON_SPOSE_BERSIH,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_MaxOVD>90_PasanganNew",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_MAX_OVER_DUE_DAYS_SPOSE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_MAX_OVER_DUE_DAYS + " & " + constant.REASON_PASANGAN_BARU,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_MaxOVD>90",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_MAX_OVER_DUE_DAYS,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_MAX_OVER_DUE_DAYS,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_NumOfAssetInventoried>0_PasanganBlackList_BadTypeB",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NUM_OF_ASSET_INVENTORIED_SPOSE_BADTYPE_B,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_NUM_OF_ASSET_INVENTORIED + " & " + constant.REASON_SPOSE_BADTYPE_B,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_NumOfAssetInventoried>0_PasanganBlackList_MaxOVD>90",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NUM_OF_ASSET_INVENTORIED_SPOSE_MAX_OVER_DUE_DAYS,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_NUM_OF_ASSET_INVENTORIED + " & " + constant.REASON_SPOSE_MAX_OVER_DUE_DAYS,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_NumOfAssetInventoried>0_PasanganBlacklist_NumOfAssetInventoried>0",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NUM_OF_ASSET_INVENTORIED_SPOSE_NUM_OF_ASSET_INVENTORIED,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_NUM_OF_ASSET_INVENTORIED + " & " + constant.REASON_SPOSE_NUM_OF_ASSET_INVENTORIED,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_NumOfAssetInventoried>0_PasanganBlacklist_Restructure",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NUM_OF_ASSET_INVENTORIED_SPOSE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_NUM_OF_ASSET_INVENTORIED + " & " + constant.REASON_IS_RESTRUCTURE,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_NumOfAssetInventoried>0_PasanganBersih",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NUM_OF_ASSET_INVENTORIED_SPOSE_BERSIH,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_NUM_OF_ASSET_INVENTORIED + " & " + constant.REASON_SPOSE_BERSIH,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_NumOfAssetInventoried>0_PasanganNew",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NUM_OF_ASSET_INVENTORIED_SPOSE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_NUM_OF_ASSET_INVENTORIED + " & " + constant.REASON_PASANGAN_BARU,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_NumOfAssetInventoried>0",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_NUM_OF_ASSET_INVENTORIED,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_NUM_OF_ASSET_INVENTORIED,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_Restructure_PasanganBlackList_BadTypeB",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": "B",
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_IS_RESTRUCTURE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_SPOSE_IS_RESTRUCTURE + " & " + constant.REASON_SPOSE_BADTYPE_B,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_Restructure_PasanganBlackList_MaxOVD>90",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 91,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_IS_RESTRUCTURE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_SPOSE_IS_RESTRUCTURE + " & " + constant.REASON_SPOSE_MAX_OVER_DUE_DAYS,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_Restructure_PasanganBlacklist_NumOfAssetInventoried>0",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 1,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_IS_RESTRUCTURE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_SPOSE_IS_RESTRUCTURE + " & " + constant.REASON_SPOSE_NUM_OF_ASSET_INVENTORIED,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_Restructure_PasanganBlacklist_Restructure",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_IS_RESTRUCTURE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_SPOSE_IS_RESTRUCTURE + " & " + constant.REASON_IS_RESTRUCTURE,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_Restructure_PasanganBersih",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_IS_RESTRUCTURE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_SPOSE_IS_RESTRUCTURE + " & " + constant.REASON_SPOSE_BERSIH,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_Restructure_PasanganNew",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resDupcheckCodeSpouse: 200,
			resDupcheckBodySpouse: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": null,
					"id_number": "",
					"full_name": "",
					"birth_date": "",
					"surgate_mother_name": "",
					"birth_place": "",
					"gender": "",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 0,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 0,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_IS_RESTRUCTURE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_SPOSE_IS_RESTRUCTURE + " & " + constant.REASON_PASANGAN_BARU,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
		{
			name: "TEST_REJECT_FilteringBlackList_KonsumenROAOBlacklist_Restructure",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resDupcheckCode: 200,
			resDupcheckBody: `{
				"messages": "LOS DUPCHECK",
				"errors": null,
				"data": {
					"customer_id": "123456",
					"id_number": "3275066006789999",
					"full_name": "TEST LEGAL NAME",
					"birth_date": "1971-04-15",
					"surgate_mother_name": "TEST MOTHER NAME",
					"birth_place": "JAKARTA",
					"gender": "M",
					"emergency_contact_address": "",
					"legal_address": "",
					"legal_kelurahan": "",
					"legal_kecamatan": "",
					"legal_city": "",
					"lagal_zipcode": "",
					"residence_address": "",
					"residence_kelurahan": "",
					"residence_kecamatan": "",
					"residence_city": "",
					"residence_zipcode": "",
					"company_address": "",
					"company_kelurahan": "",
					"company_kecamatan": "",
					"company_city": "",
					"company_zipcode": "",
					"personal_npwp": "",
					"education": "",
					"marital_status": "",
					"num_of_dependence": 0,
					"home_status": "",
					"profession_id": "",
					"job_type_id": "",
					"job_pos": null,
					"monthly_fixed_income": 0,
					"spouse_income": null,
					"monthly_variable_income": 0,
					"total_installment": 0,
					"total_installment_nap": 0,
					"bad_type": null,
					"max_overduedays": 90,
					"max_overduedays_roao": null,
					"num_of_asset_inventoried": 0,
					"overduedays_aging": null,
					"max_overduedays_for_active_agreement": null,
					"max_overduedays_for_prev_eom": null,
					"sisa_jumlah_angsuran": null,
					"rrd_date": null,
					"number_of_agreement": 0,
					"work_since_year": null,
					"outstanding_principal": 0,
					"os_installmentdue": 0,
					"is_restructure": 1,
					"is_similiar": 0,
					"customer_status": "",
					"customer_segment": "",
					"customer_transaction_type": ""
				},
				"server_time": "2023-12-01T20:20:56+07:00",
				"request_id": ""
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.CODE_IS_RESTRUCTURE,
				Decision:       constant.DECISION_REJECT,
				Reason:         constant.REASON_SPOSE_IS_RESTRUCTURE,
				StatusKonsumen: "RO/AO",
				IsBlacklist:    1,
				NextProcess:    0,
			},
		},
	}

	for _, tc := range testCases {
		t.Run(tc.name, func(t *testing.T) {
			mockRepository := new(filteringMock.Repository)
			mockElaborateRepository := new(elaborateMock.Repository)
			mockHttpClient := new(httpclient.MockHttpClient)

			rst := resty.New()
			httpmock.ActivateNonDefault(rst.GetClient())
			defer httpmock.DeactivateAndReset()

			httpmock.RegisterResponder(constant.METHOD_POST, os.Getenv("DUPCHECK_URL"), httpmock.NewStringResponder(tc.resDupcheckCode, tc.resDupcheckBody))
			resp, _ := rst.R().Post(os.Getenv("DUPCHECK_URL"))

			mockHttpClient.On("EngineAPI", ctx, constant.FILTERING_LOG, os.Getenv("DUPCHECK_URL"), mock.Anything, map[string]string{}, constant.METHOD_POST, false, 0, timeOut, tc.req.Data.ProspectID, accessToken).Return(resp, tc.errDupcheck).Once()

			mockRepository.On("UpdateData", mock.Anything).Return(tc.errUpdateData).Once()

			rst2 := resty.New()
			httpmock.ActivateNonDefault(rst2.GetClient())

			httpmock.RegisterResponder(constant.METHOD_POST, os.Getenv("DUPCHECK_URL"), httpmock.NewStringResponder(tc.resDupcheckCodeSpouse, tc.resDupcheckBodySpouse))
			resp2, _ := rst2.R().Post(os.Getenv("DUPCHECK_URL"))

			mockHttpClient.On("EngineAPI", ctx, constant.FILTERING_LOG, os.Getenv("DUPCHECK_URL"), mock.Anything, map[string]string{}, constant.METHOD_POST, false, 0, timeOut, tc.req.Data.ProspectID, accessToken).Return(resp2, tc.errDupcheckSpouse).Once()

			mockRepository.On("UpdateData", mock.Anything).Return(tc.errUpdateDataSpouse).Once()

			usecase := NewUsecase(mockRepository, mockElaborateRepository, mockHttpClient)

			result, err := usecase.FilteringBlackList(ctx, tc.req, accessToken)

			require.Equal(t, tc.resFinal, result)
			require.Equal(t, tc.errFinal, err)
		})
	}
}

func TestCheckStatusCategory(t *testing.T) {
	accessToken := "token"
	ctx := context.Background()
	reqID := utils.GenerateUUID()
	ctx = context.WithValue(ctx, constant.HeaderXRequestID, reqID)

	testCases := []struct {
		name                         string
		req                          request.FilteringRequest
		statusKonsumen               string
		resCheckCustomerCategoryCode int
		resCheckCustomerCategoryBody string
		errCheckCustomerCategory     error
		errUpdateData                error
		resFinal                     response.DupcheckResult
		errFinal                     error
	}{
		{
			name: "TEST_ERROR_CheckStatusCategory_GetCustomerAPI",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resCheckCustomerCategoryCode: 400,
			resCheckCustomerCategoryBody: `
				{
					"code": "CORE-API-004",
					"data": {},
					"errors": [
					{
						"field": "IDNumber",
						"message": "IDNumber wajib diisi."
					}
					],
					"message": "permintaan tidak valid, kesalahan muncul ketika permintaan Anda memiliki parameter yang tidak valid.",
					"request_id": "24fa3770-628c-49de-aa17-3a338f73d99b",
					"timestamp": "2022-04-27 23:19:56"
				}
			`,
			errCheckCustomerCategory: errors.New("failed get status category consument"),
			errFinal:                 errors.New("failed get status category consument"),
		},
		{
			name: "TEST_ERROR_CheckStatusCategory_UnmarshalCustomerAPI",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resCheckCustomerCategoryCode: 200,
			resCheckCustomerCategoryBody: `-`,
			errFinal:                     errors.New("error unmarshal status category consument"),
		},
		{
			name: "TEST_PASS_CheckStatusCategory_CustomerNew",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen:               constant.STATUS_KONSUMEN_NEW,
			resCheckCustomerCategoryCode: 400,
			resCheckCustomerCategoryBody: `
			{
				"code":"CORE-API-005",
				"message":"data yang anda minta tidak ditemukan.",
				"data":null,
				"errors":null,
				"request_id":"0a87914f-a3c2-4005-8682-c4f8fedcfaa6",
				"timestamp":"2022-03-15 14:55:48"
			}
			  `,
			resFinal: response.DupcheckResult{
				Code:           constant.CUSTOMER_NEW,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
			},
		},
		{
			name: "TEST_PASS_CheckStatusCategory_CustomerAPINotFound_CustomerROAORegular",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen:               constant.STATUS_KONSUMEN_RO_AO,
			resCheckCustomerCategoryCode: 400,
			resCheckCustomerCategoryBody: `
			{
				"code":"CORE-API-005",
				"message":"data yang anda minta tidak ditemukan.",
				"data":null,
				"errors":null,
				"request_id":"0a87914f-a3c2-4005-8682-c4f8fedcfaa6",
				"timestamp":"2022-03-15 14:55:48"
			}
			  `,
			resFinal: response.DupcheckResult{
				Code:                   constant.CUSTOMER_NEW,
				StatusKonsumen:         constant.STATUS_KONSUMEN_RO_AO,
				KategoriStatusKonsumen: constant.RO_AO_REGULAR,
			},
		},
		{
			name: "TEST_PASS_CheckStatusCategory_CustomerROAOPrime",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen:               constant.STATUS_KONSUMEN_RO_AO,
			resCheckCustomerCategoryCode: 200,
			resCheckCustomerCategoryBody: `
			{
				"code": "OK",
				"message": "operasi berhasil dieksekusi.",
				"data": {
					"similarities": 0,
					"customer_personal": {
						"id": 5774537,
						"customer_id_confins": "40000114779",
						"id_type": "KTP",
						"id_number": "3275115506720046",
						"expired_date": "2027-06-20",
						"legal_name": "K MARLIANA",
						"full_name": "KOYUM MARLIANA",
						"gender": "F",
						"birth_date": "1972-06-15",
						"birth_place": "JAKARTA",
						"surgate_mother_name": "MISNAH",
						"personal_customer_type": "N",
						"personal_npwp_number": "0",
						"mobile_phone": "081363615264",
						"email": "KOYUMMARLIANA@GMAIL.COM",
						"religion": "1",
						"marital_status": "M",
						"num_of_dependence": 0,
						"no_kk": "0",
						"education": "SLTA",
						"nationality": "WNI",
						"wna_country": "",
						"home_status": "KR",
						"rent_finish_date": "2035-06-20",
						"home_location": "N",
						"home_price": 0,
						"stay_since_month": 1,
						"stay_since_year": 2015,
						"num_of_asset_owned": 0,
						"living_cost_amount": 0,
						"bank_id": "",
						"account_no": "",
						"account_name": "",
						"profession_id": "WRST",
						"industry_type_id": "8900      ",
						"main_business_since_year": 2015,
						"job_position": "W",
						"job_type": "0141",
						"employment_since_year": null,
						"monthly_fixed_income": 8000000,
						"monthly_variable_income": 0,
						"spouse_income": 8000000,
						"company_name": "USAHA WARUNG PADE SEMBAKO KOYUM DIRAWA PASUNG NO14",
						"employment_since_month": null,
						"attempt_cs_verify": 0,
						"is_lock_account": false,
						"is_force_forget_pin": false,
						"datetime_incorrect_cs_latest_attempt": "",
						"agree_to_accept_other_offering": null,
						"created_at": "2022-09-30 17:04:22",
						"created_by": "LestariA    ",
						"updated_at": "2023-03-20 08:48:58",
						"updated_by": "ETL RO/AO",
						"created_date_pin": "",
						"updated_date_pin": "",
						"is_data_verified": false,
						"is_face_verified": false,
						"expired_verification_date": ""
					},
					"customer_address": {
						"residence_address": "JL KALI BARU NO14 BELAKANG KELURAHAN KALI BARU",
						"residence_rt": "001",
						"residence_rw": "003",
						"residence_kelurahan": "KALI BARU",
						"residence_kecamatan": "MEDAN SATRIA",
						"residence_city": "BEKASI",
						"residence_zip_code": "17133",
						"residence_area_phone": "0813",
						"residence_phone": "63615264",
						"legal_address": "KAMPUNG RAWA PASUNG",
						"legal_rt": "001",
						"legal_rw": "003",
						"legal_kelurahan": "KALI BARU",
						"legal_kecamatan": "MEDAN SATRIA",
						"legal_city": "BEKASI",
						"legal_zip_code": "17133",
						"legal_area_phone": "0813",
						"legal_phone": "63615264",
						"company_address": "KAPUNG RAWA PASUNG NO 14",
						"company_rt": "001",
						"company_rw": "003",
						"company_kelurahan": "KALI BARU",
						"company_kecamatan": "MEDAN SATRIA",
						"company_city": "BEKASI",
						"company_zip_code": "17133",
						"company_area_phone": "0813",
						"company_phone": "63615264",
						"emergency_contact_address": "KP RAWA PASUNG NO 57",
						"emergency_contact_rt": "001",
						"emergency_contact_rw": "004",
						"emergency_contact_kelurahan": "KALI BARU",
						"emergency_contact_kecamatan": "MEDAN SATRIA",
						"emergency_contact_city": "BEKASI",
						"emergency_contact_zip_code": "17133",
						"emergency_contact_home_phone_area": "000 ",
						"emergency_contact_home_phone": "0000000   ",
						"emergency_contact_office_phone_area": "000 ",
						"emergency_contact_office_phone": "0000000"
					},
					"customer_attribute": {
						"bad_type": null,
						"max_overdue_days": 0,
						"max_overdue_today_aging": null,
						"max_inventory": 0,
						"is_restructure": 0
					},
					"customer_segmentation": [{
							"lob_id": 1,
							"segment_id": 1,
							"segment_name": "PRIME",
							"transaction_type_id": 1,
							"transaction_type_name": "RO",
							"transaction_type_description": "REPEAT ORDER"
			
						},
						{
							"lob_id": 2,
							"segment_id": 2,
							"segment_name": "PRIORITY",
							"transaction_type_id": 2,
							"transaction_type_name": "AO",
							"transaction_type_description": "ADDITIONAL ORDER"
						}
					],
					"customer_emcon": {
						"emergency_contact_mobile_phone": "081292667209",
						"emergency_contact_name": "NITA",
						"emergency_contact_relationship": "FM"
					},
					"customer_omset": {
						"omset_year1": 2022,
						"omset_month1": 5,
						"omset_amount1": 8000000,
						"omset_year2": 2022,
						"omset_month2": 4,
						"omset_amount2": 8000000,
						"omset_year3": 2022,
						"omset_month3": 3,
						"omset_amount3": 8000000
					},
					"customer_photo": [],
					"customer_spouse": []
				},
				"errors": null,
				"request_id": "c240772b-5f78-489b-bdb4-6ed796dadaf6",
				"timestamp": "2023-03-26 21:29:07"
			}
			  `,
			resFinal: response.DupcheckResult{
				Code:                   constant.CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				Decision:               constant.DECISION_PASS,
				Reason:                 constant.REASON_CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				StatusKonsumen:         constant.STATUS_KONSUMEN_RO_AO,
				KategoriStatusKonsumen: constant.RO_AO_PRIME,
				NextProcess:            1,
			},
		},
		{
			name: "TEST_PASS_CheckStatusCategory_CustomerROAOPriority",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen:               constant.STATUS_KONSUMEN_RO_AO,
			resCheckCustomerCategoryCode: 200,
			resCheckCustomerCategoryBody: `
			{
				"code": "OK",
				"message": "operasi berhasil dieksekusi.",
				"data": {
					"similarities": 0,
					"customer_personal": {
						"id": 5774537,
						"customer_id_confins": "40000114779",
						"id_type": "KTP",
						"id_number": "3275115506720046",
						"expired_date": "2027-06-20",
						"legal_name": "K MARLIANA",
						"full_name": "KOYUM MARLIANA",
						"gender": "F",
						"birth_date": "1972-06-15",
						"birth_place": "JAKARTA",
						"surgate_mother_name": "MISNAH",
						"personal_customer_type": "N",
						"personal_npwp_number": "0",
						"mobile_phone": "081363615264",
						"email": "KOYUMMARLIANA@GMAIL.COM",
						"religion": "1",
						"marital_status": "M",
						"num_of_dependence": 0,
						"no_kk": "0",
						"education": "SLTA",
						"nationality": "WNI",
						"wna_country": "",
						"home_status": "KR",
						"rent_finish_date": "2035-06-20",
						"home_location": "N",
						"home_price": 0,
						"stay_since_month": 1,
						"stay_since_year": 2015,
						"num_of_asset_owned": 0,
						"living_cost_amount": 0,
						"bank_id": "",
						"account_no": "",
						"account_name": "",
						"profession_id": "WRST",
						"industry_type_id": "8900      ",
						"main_business_since_year": 2015,
						"job_position": "W",
						"job_type": "0141",
						"employment_since_year": null,
						"monthly_fixed_income": 8000000,
						"monthly_variable_income": 0,
						"spouse_income": 8000000,
						"company_name": "USAHA WARUNG PADE SEMBAKO KOYUM DIRAWA PASUNG NO14",
						"employment_since_month": null,
						"attempt_cs_verify": 0,
						"is_lock_account": false,
						"is_force_forget_pin": false,
						"datetime_incorrect_cs_latest_attempt": "",
						"agree_to_accept_other_offering": null,
						"created_at": "2022-09-30 17:04:22",
						"created_by": "LestariA    ",
						"updated_at": "2023-03-20 08:48:58",
						"updated_by": "ETL RO/AO",
						"created_date_pin": "",
						"updated_date_pin": "",
						"is_data_verified": false,
						"is_face_verified": false,
						"expired_verification_date": ""
					},
					"customer_address": {
						"residence_address": "JL KALI BARU NO14 BELAKANG KELURAHAN KALI BARU",
						"residence_rt": "001",
						"residence_rw": "003",
						"residence_kelurahan": "KALI BARU",
						"residence_kecamatan": "MEDAN SATRIA",
						"residence_city": "BEKASI",
						"residence_zip_code": "17133",
						"residence_area_phone": "0813",
						"residence_phone": "63615264",
						"legal_address": "KAMPUNG RAWA PASUNG",
						"legal_rt": "001",
						"legal_rw": "003",
						"legal_kelurahan": "KALI BARU",
						"legal_kecamatan": "MEDAN SATRIA",
						"legal_city": "BEKASI",
						"legal_zip_code": "17133",
						"legal_area_phone": "0813",
						"legal_phone": "63615264",
						"company_address": "KAPUNG RAWA PASUNG NO 14",
						"company_rt": "001",
						"company_rw": "003",
						"company_kelurahan": "KALI BARU",
						"company_kecamatan": "MEDAN SATRIA",
						"company_city": "BEKASI",
						"company_zip_code": "17133",
						"company_area_phone": "0813",
						"company_phone": "63615264",
						"emergency_contact_address": "KP RAWA PASUNG NO 57",
						"emergency_contact_rt": "001",
						"emergency_contact_rw": "004",
						"emergency_contact_kelurahan": "KALI BARU",
						"emergency_contact_kecamatan": "MEDAN SATRIA",
						"emergency_contact_city": "BEKASI",
						"emergency_contact_zip_code": "17133",
						"emergency_contact_home_phone_area": "000 ",
						"emergency_contact_home_phone": "0000000   ",
						"emergency_contact_office_phone_area": "000 ",
						"emergency_contact_office_phone": "0000000"
					},
					"customer_attribute": {
						"bad_type": null,
						"max_overdue_days": 0,
						"max_overdue_today_aging": null,
						"max_inventory": 0,
						"is_restructure": 0
					},
					"customer_segmentation": [{
							"lob_id": 1,
							"segment_id": 2,
							"segment_name": "PRIORITY",
							"transaction_type_id": 1,
							"transaction_type_name": "RO",
							"transaction_type_description": "REPEAT ORDER"
			
						},
						{
							"lob_id": 2,
							"segment_id": 1,
							"segment_name": "PRIME",
							"transaction_type_id": 2,
							"transaction_type_name": "AO",
							"transaction_type_description": "ADDITIONAL ORDER"
						}
					],
					"customer_emcon": {
						"emergency_contact_mobile_phone": "081292667209",
						"emergency_contact_name": "NITA",
						"emergency_contact_relationship": "FM"
					},
					"customer_omset": {
						"omset_year1": 2022,
						"omset_month1": 5,
						"omset_amount1": 8000000,
						"omset_year2": 2022,
						"omset_month2": 4,
						"omset_amount2": 8000000,
						"omset_year3": 2022,
						"omset_month3": 3,
						"omset_amount3": 8000000
					},
					"customer_photo": [],
					"customer_spouse": []
				},
				"errors": null,
				"request_id": "c240772b-5f78-489b-bdb4-6ed796dadaf6",
				"timestamp": "2023-03-26 21:29:07"
			}
			  `,
			resFinal: response.DupcheckResult{
				Code:                   constant.CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				Decision:               constant.DECISION_PASS,
				Reason:                 constant.REASON_CUSTOMER_STATUS_CODE_RO_AO_PRIME_PRIORITY,
				StatusKonsumen:         constant.STATUS_KONSUMEN_RO_AO,
				KategoriStatusKonsumen: constant.RO_AO_PRIORITY,
				NextProcess:            1,
			},
		},
		{
			name: "TEST_PASS_CheckStatusCategory_CustomerROAOReguler",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen:               constant.STATUS_KONSUMEN_RO_AO,
			resCheckCustomerCategoryCode: 200,
			resCheckCustomerCategoryBody: `
			{
				"code": "OK",
				"message": "operasi berhasil dieksekusi.",
				"data": {
					"similarities": 0,
					"customer_personal": {
						"id": 5774537,
						"customer_id_confins": "40000114779",
						"id_type": "KTP",
						"id_number": "3275115506720046",
						"expired_date": "2027-06-20",
						"legal_name": "K MARLIANA",
						"full_name": "KOYUM MARLIANA",
						"gender": "F",
						"birth_date": "1972-06-15",
						"birth_place": "JAKARTA",
						"surgate_mother_name": "MISNAH",
						"personal_customer_type": "N",
						"personal_npwp_number": "0",
						"mobile_phone": "081363615264",
						"email": "KOYUMMARLIANA@GMAIL.COM",
						"religion": "1",
						"marital_status": "M",
						"num_of_dependence": 0,
						"no_kk": "0",
						"education": "SLTA",
						"nationality": "WNI",
						"wna_country": "",
						"home_status": "KR",
						"rent_finish_date": "2035-06-20",
						"home_location": "N",
						"home_price": 0,
						"stay_since_month": 1,
						"stay_since_year": 2015,
						"num_of_asset_owned": 0,
						"living_cost_amount": 0,
						"bank_id": "",
						"account_no": "",
						"account_name": "",
						"profession_id": "WRST",
						"industry_type_id": "8900      ",
						"main_business_since_year": 2015,
						"job_position": "W",
						"job_type": "0141",
						"employment_since_year": null,
						"monthly_fixed_income": 8000000,
						"monthly_variable_income": 0,
						"spouse_income": 8000000,
						"company_name": "USAHA WARUNG PADE SEMBAKO KOYUM DIRAWA PASUNG NO14",
						"employment_since_month": null,
						"attempt_cs_verify": 0,
						"is_lock_account": false,
						"is_force_forget_pin": false,
						"datetime_incorrect_cs_latest_attempt": "",
						"agree_to_accept_other_offering": null,
						"created_at": "2022-09-30 17:04:22",
						"created_by": "LestariA    ",
						"updated_at": "2023-03-20 08:48:58",
						"updated_by": "ETL RO/AO",
						"created_date_pin": "",
						"updated_date_pin": "",
						"is_data_verified": false,
						"is_face_verified": false,
						"expired_verification_date": ""
					},
					"customer_address": {
						"residence_address": "JL KALI BARU NO14 BELAKANG KELURAHAN KALI BARU",
						"residence_rt": "001",
						"residence_rw": "003",
						"residence_kelurahan": "KALI BARU",
						"residence_kecamatan": "MEDAN SATRIA",
						"residence_city": "BEKASI",
						"residence_zip_code": "17133",
						"residence_area_phone": "0813",
						"residence_phone": "63615264",
						"legal_address": "KAMPUNG RAWA PASUNG",
						"legal_rt": "001",
						"legal_rw": "003",
						"legal_kelurahan": "KALI BARU",
						"legal_kecamatan": "MEDAN SATRIA",
						"legal_city": "BEKASI",
						"legal_zip_code": "17133",
						"legal_area_phone": "0813",
						"legal_phone": "63615264",
						"company_address": "KAPUNG RAWA PASUNG NO 14",
						"company_rt": "001",
						"company_rw": "003",
						"company_kelurahan": "KALI BARU",
						"company_kecamatan": "MEDAN SATRIA",
						"company_city": "BEKASI",
						"company_zip_code": "17133",
						"company_area_phone": "0813",
						"company_phone": "63615264",
						"emergency_contact_address": "KP RAWA PASUNG NO 57",
						"emergency_contact_rt": "001",
						"emergency_contact_rw": "004",
						"emergency_contact_kelurahan": "KALI BARU",
						"emergency_contact_kecamatan": "MEDAN SATRIA",
						"emergency_contact_city": "BEKASI",
						"emergency_contact_zip_code": "17133",
						"emergency_contact_home_phone_area": "000 ",
						"emergency_contact_home_phone": "0000000   ",
						"emergency_contact_office_phone_area": "000 ",
						"emergency_contact_office_phone": "0000000"
					},
					"customer_attribute": {
						"bad_type": null,
						"max_overdue_days": 0,
						"max_overdue_today_aging": null,
						"max_inventory": 0,
						"is_restructure": 0
					},
					"customer_segmentation": [],
					"customer_emcon": {
						"emergency_contact_mobile_phone": "081292667209",
						"emergency_contact_name": "NITA",
						"emergency_contact_relationship": "FM"
					},
					"customer_omset": {
						"omset_year1": 2022,
						"omset_month1": 5,
						"omset_amount1": 8000000,
						"omset_year2": 2022,
						"omset_month2": 4,
						"omset_amount2": 8000000,
						"omset_year3": 2022,
						"omset_month3": 3,
						"omset_amount3": 8000000
					},
					"customer_photo": [],
					"customer_spouse": []
				},
				"errors": null,
				"request_id": "c240772b-5f78-489b-bdb4-6ed796dadaf6",
				"timestamp": "2023-03-26 21:29:07"
			}
			  `,
			resFinal: response.DupcheckResult{
				Code:           constant.CUSTOMER_STATUS_CODE_RO_AO,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_CUSTOMER_STATUS_CODE_RO_AO,
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			},
		},
		{
			name: "TEST_PASS_CheckStatusCategory_CustomerNew",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen:               constant.STATUS_KONSUMEN_NEW,
			resCheckCustomerCategoryCode: 200,
			resCheckCustomerCategoryBody: `
			{
				"code": "OK",
				"message": "operasi berhasil dieksekusi.",
				"data": {
					"similarities": 0,
					"customer_personal": {
						"id": 5774537,
						"customer_id_confins": "40000114779",
						"id_type": "KTP",
						"id_number": "3275115506720046",
						"expired_date": "2027-06-20",
						"legal_name": "K MARLIANA",
						"full_name": "KOYUM MARLIANA",
						"gender": "F",
						"birth_date": "1972-06-15",
						"birth_place": "JAKARTA",
						"surgate_mother_name": "MISNAH",
						"personal_customer_type": "N",
						"personal_npwp_number": "0",
						"mobile_phone": "081363615264",
						"email": "KOYUMMARLIANA@GMAIL.COM",
						"religion": "1",
						"marital_status": "M",
						"num_of_dependence": 0,
						"no_kk": "0",
						"education": "SLTA",
						"nationality": "WNI",
						"wna_country": "",
						"home_status": "KR",
						"rent_finish_date": "2035-06-20",
						"home_location": "N",
						"home_price": 0,
						"stay_since_month": 1,
						"stay_since_year": 2015,
						"num_of_asset_owned": 0,
						"living_cost_amount": 0,
						"bank_id": "",
						"account_no": "",
						"account_name": "",
						"profession_id": "WRST",
						"industry_type_id": "8900      ",
						"main_business_since_year": 2015,
						"job_position": "W",
						"job_type": "0141",
						"employment_since_year": null,
						"monthly_fixed_income": 8000000,
						"monthly_variable_income": 0,
						"spouse_income": 8000000,
						"company_name": "USAHA WARUNG PADE SEMBAKO KOYUM DIRAWA PASUNG NO14",
						"employment_since_month": null,
						"attempt_cs_verify": 0,
						"is_lock_account": false,
						"is_force_forget_pin": false,
						"datetime_incorrect_cs_latest_attempt": "",
						"agree_to_accept_other_offering": null,
						"created_at": "2022-09-30 17:04:22",
						"created_by": "LestariA    ",
						"updated_at": "2023-03-20 08:48:58",
						"updated_by": "ETL RO/AO",
						"created_date_pin": "",
						"updated_date_pin": "",
						"is_data_verified": false,
						"is_face_verified": false,
						"expired_verification_date": ""
					},
					"customer_address": {
						"residence_address": "JL KALI BARU NO14 BELAKANG KELURAHAN KALI BARU",
						"residence_rt": "001",
						"residence_rw": "003",
						"residence_kelurahan": "KALI BARU",
						"residence_kecamatan": "MEDAN SATRIA",
						"residence_city": "BEKASI",
						"residence_zip_code": "17133",
						"residence_area_phone": "0813",
						"residence_phone": "63615264",
						"legal_address": "KAMPUNG RAWA PASUNG",
						"legal_rt": "001",
						"legal_rw": "003",
						"legal_kelurahan": "KALI BARU",
						"legal_kecamatan": "MEDAN SATRIA",
						"legal_city": "BEKASI",
						"legal_zip_code": "17133",
						"legal_area_phone": "0813",
						"legal_phone": "63615264",
						"company_address": "KAPUNG RAWA PASUNG NO 14",
						"company_rt": "001",
						"company_rw": "003",
						"company_kelurahan": "KALI BARU",
						"company_kecamatan": "MEDAN SATRIA",
						"company_city": "BEKASI",
						"company_zip_code": "17133",
						"company_area_phone": "0813",
						"company_phone": "63615264",
						"emergency_contact_address": "KP RAWA PASUNG NO 57",
						"emergency_contact_rt": "001",
						"emergency_contact_rw": "004",
						"emergency_contact_kelurahan": "KALI BARU",
						"emergency_contact_kecamatan": "MEDAN SATRIA",
						"emergency_contact_city": "BEKASI",
						"emergency_contact_zip_code": "17133",
						"emergency_contact_home_phone_area": "000 ",
						"emergency_contact_home_phone": "0000000   ",
						"emergency_contact_office_phone_area": "000 ",
						"emergency_contact_office_phone": "0000000"
					},
					"customer_attribute": {
						"bad_type": null,
						"max_overdue_days": 0,
						"max_overdue_today_aging": null,
						"max_inventory": 0,
						"is_restructure": 0
					},
					"customer_segmentation": [],
					"customer_emcon": {
						"emergency_contact_mobile_phone": "081292667209",
						"emergency_contact_name": "NITA",
						"emergency_contact_relationship": "FM"
					},
					"customer_omset": {
						"omset_year1": 2022,
						"omset_month1": 5,
						"omset_amount1": 8000000,
						"omset_year2": 2022,
						"omset_month2": 4,
						"omset_amount2": 8000000,
						"omset_year3": 2022,
						"omset_month3": 3,
						"omset_amount3": 8000000
					},
					"customer_photo": [],
					"customer_spouse": []
				},
				"errors": null,
				"request_id": "c240772b-5f78-489b-bdb4-6ed796dadaf6",
				"timestamp": "2023-03-26 21:29:07"
			}
			  `,
			resFinal: response.DupcheckResult{
				Code:           constant.CUSTOMER_STATUS_CODE_NEW,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_CUSTOMER_STATUS_CODE_NEW,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
			},
		},
		{
			name: "TEST_ERROR_CheckStatusCategory_UpdateData",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen:               constant.STATUS_KONSUMEN_NEW,
			resCheckCustomerCategoryCode: 200,
			resCheckCustomerCategoryBody: `
			{
				"code": "OK",
				"message": "operasi berhasil dieksekusi.",
				"data": {
					"similarities": 0,
					"customer_personal": {
						"id": 5774537,
						"customer_id_confins": "40000114779",
						"id_type": "KTP",
						"id_number": "3275115506720046",
						"expired_date": "2027-06-20",
						"legal_name": "K MARLIANA",
						"full_name": "KOYUM MARLIANA",
						"gender": "F",
						"birth_date": "1972-06-15",
						"birth_place": "JAKARTA",
						"surgate_mother_name": "MISNAH",
						"personal_customer_type": "N",
						"personal_npwp_number": "0",
						"mobile_phone": "081363615264",
						"email": "KOYUMMARLIANA@GMAIL.COM",
						"religion": "1",
						"marital_status": "M",
						"num_of_dependence": 0,
						"no_kk": "0",
						"education": "SLTA",
						"nationality": "WNI",
						"wna_country": "",
						"home_status": "KR",
						"rent_finish_date": "2035-06-20",
						"home_location": "N",
						"home_price": 0,
						"stay_since_month": 1,
						"stay_since_year": 2015,
						"num_of_asset_owned": 0,
						"living_cost_amount": 0,
						"bank_id": "",
						"account_no": "",
						"account_name": "",
						"profession_id": "WRST",
						"industry_type_id": "8900      ",
						"main_business_since_year": 2015,
						"job_position": "W",
						"job_type": "0141",
						"employment_since_year": null,
						"monthly_fixed_income": 8000000,
						"monthly_variable_income": 0,
						"spouse_income": 8000000,
						"company_name": "USAHA WARUNG PADE SEMBAKO KOYUM DIRAWA PASUNG NO14",
						"employment_since_month": null,
						"attempt_cs_verify": 0,
						"is_lock_account": false,
						"is_force_forget_pin": false,
						"datetime_incorrect_cs_latest_attempt": "",
						"agree_to_accept_other_offering": null,
						"created_at": "2022-09-30 17:04:22",
						"created_by": "LestariA    ",
						"updated_at": "2023-03-20 08:48:58",
						"updated_by": "ETL RO/AO",
						"created_date_pin": "",
						"updated_date_pin": "",
						"is_data_verified": false,
						"is_face_verified": false,
						"expired_verification_date": ""
					},
					"customer_address": {
						"residence_address": "JL KALI BARU NO14 BELAKANG KELURAHAN KALI BARU",
						"residence_rt": "001",
						"residence_rw": "003",
						"residence_kelurahan": "KALI BARU",
						"residence_kecamatan": "MEDAN SATRIA",
						"residence_city": "BEKASI",
						"residence_zip_code": "17133",
						"residence_area_phone": "0813",
						"residence_phone": "63615264",
						"legal_address": "KAMPUNG RAWA PASUNG",
						"legal_rt": "001",
						"legal_rw": "003",
						"legal_kelurahan": "KALI BARU",
						"legal_kecamatan": "MEDAN SATRIA",
						"legal_city": "BEKASI",
						"legal_zip_code": "17133",
						"legal_area_phone": "0813",
						"legal_phone": "63615264",
						"company_address": "KAPUNG RAWA PASUNG NO 14",
						"company_rt": "001",
						"company_rw": "003",
						"company_kelurahan": "KALI BARU",
						"company_kecamatan": "MEDAN SATRIA",
						"company_city": "BEKASI",
						"company_zip_code": "17133",
						"company_area_phone": "0813",
						"company_phone": "63615264",
						"emergency_contact_address": "KP RAWA PASUNG NO 57",
						"emergency_contact_rt": "001",
						"emergency_contact_rw": "004",
						"emergency_contact_kelurahan": "KALI BARU",
						"emergency_contact_kecamatan": "MEDAN SATRIA",
						"emergency_contact_city": "BEKASI",
						"emergency_contact_zip_code": "17133",
						"emergency_contact_home_phone_area": "000 ",
						"emergency_contact_home_phone": "0000000   ",
						"emergency_contact_office_phone_area": "000 ",
						"emergency_contact_office_phone": "0000000"
					},
					"customer_attribute": {
						"bad_type": null,
						"max_overdue_days": 0,
						"max_overdue_today_aging": null,
						"max_inventory": 0,
						"is_restructure": 0
					},
					"customer_segmentation": [],
					"customer_emcon": {
						"emergency_contact_mobile_phone": "081292667209",
						"emergency_contact_name": "NITA",
						"emergency_contact_relationship": "FM"
					},
					"customer_omset": {
						"omset_year1": 2022,
						"omset_month1": 5,
						"omset_amount1": 8000000,
						"omset_year2": 2022,
						"omset_month2": 4,
						"omset_amount2": 8000000,
						"omset_year3": 2022,
						"omset_month3": 3,
						"omset_amount3": 8000000
					},
					"customer_photo": [],
					"customer_spouse": []
				},
				"errors": null,
				"request_id": "c240772b-5f78-489b-bdb4-6ed796dadaf6",
				"timestamp": "2023-03-26 21:29:07"
			}
			  `,
			errUpdateData: errors.New("failed update data on check status category"),
			resFinal: response.DupcheckResult{
				Code:           constant.CUSTOMER_STATUS_CODE_NEW,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_CUSTOMER_STATUS_CODE_NEW,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
			},
			errFinal: errors.New("failed update data on check status category"),
		},
	}

	for _, tc := range testCases {
		t.Run(tc.name, func(t *testing.T) {
			mockRepository := new(filteringMock.Repository)
			mockElaborateRepository := new(elaborateMock.Repository)
			mockHttpClient := new(httpclient.MockHttpClient)

			rst := resty.New()
			httpmock.ActivateNonDefault(rst.GetClient())
			defer httpmock.DeactivateAndReset()

			httpmock.RegisterResponder(constant.METHOD_POST, os.Getenv("CUSTOMER_V3_BASE_URL")+"/api/v3/customer/personal-data", httpmock.NewStringResponder(tc.resCheckCustomerCategoryCode, tc.resCheckCustomerCategoryBody))
			resp, _ := rst.R().Post(os.Getenv("CUSTOMER_V3_BASE_URL") + "/api/v3/customer/personal-data")

			mockHttpClient.On("CustomerAPI", ctx, constant.FILTERING_LOG, "/api/v3/customer/personal-data", mock.Anything, constant.METHOD_POST, accessToken, tc.req.Data.ProspectID, "DEFAULT_TIMEOUT_30S").Return(resp, tc.errCheckCustomerCategory).Once()

			mockRepository.On("UpdateData", mock.Anything).Return(tc.errUpdateData).Once()

			usecase := NewUsecase(mockRepository, mockElaborateRepository, mockHttpClient)

			result, err := usecase.CheckStatusCategory(ctx, tc.req, tc.statusKonsumen, accessToken)

			require.Equal(t, tc.resFinal, result)
			require.Equal(t, tc.errFinal, err)
		})
	}
}

func TestFilteringPefindo(t *testing.T) {
	os.Setenv("NAMA_SAMA", "K,P")
	os.Setenv("NAMA_BEDA", "O,KK")
	os.Setenv("ACTIVE_PBK", "true")
	os.Setenv("DUMMY_PBK", "false")
	timeOut, _ := strconv.Atoi(os.Getenv("DUPCHECK_API_TIMEOUT"))

	accessToken := "token"
	ctx := context.Background()
	reqID := utils.GenerateUUID()
	ctx = context.WithValue(ctx, constant.HeaderXRequestID, reqID)

	testCases := []struct {
		name                   string
		req                    request.FilteringRequest
		kategoriStatusKonsumen string
		statusKonsumen         string
		resPefindoCode         int
		resPefindoBody         string
		errPefindo             error
		errUpdateData          error
		resFinal               response.DupcheckResult
		errFinal               error
	}{
		{
			name: "TEST_ERROR_FilteringPefindo_PefindoAPI",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resPefindoCode: 400,
			errPefindo:     errors.New("failed get data pefindo"),
			errFinal:       errors.New("failed get data pefindo"),
		},
		{
			name: "TEST_ERROR_FilteringPefindo_PefindoAPI_MaritalSatusMarried",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "M",
					ProfessionID:      "WRST",
					Spouse: &request.Spouse{
						IDNumber:          "3345270510910123",
						LegalName:         "TEST SPOUSE LEGAL NAME",
						BirthPlace:        "JAKARTA",
						BirthDate:         "1995-08-28",
						SurgateMotherName: "TEST SPOUSE MOTHER NAME",
						Gender:            "F",
					},
					MobilePhone: "085720230309",
				},
			},
			resPefindoCode: 400,
			errPefindo:     errors.New("failed get data pefindo"),
			errFinal:       errors.New("failed get data pefindo"),
		},
		{
			name: "TEST_ERROR_FilteringPefindo_UnmarshalPefindoAPI",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resPefindoCode: 200,
			resPefindoBody: `-`,
			errFinal:       errors.New("error unmarshal data pefindo"),
		},
		{
			name: "TEST_ERROR_FilteringPefindo_UnmarshalNotMatchPefindoAPI",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resPefindoCode: 200,
			resPefindoBody: `
			{
				"code": "201",
				"status": "ERROR",
				"result": 123,
				"konsumen": {
					"search_id": null,
					"pefindo_id": null,
					"score": null,
					"max_overdue": null,
					"max_overdue_last12months": null,
					"angsuran_aktif_pbk": null,
					"wo_contract": null,
					"wo_ada_agunan": null,
					"baki_debet_non_agunan": null,
					"detail_report": null,
					"plafon": null,
					"fasilitas_aktif": null,
					"kualitas_kredit_terburuk": null,
					"bulan_kualitas_terburuk": null,
					"baki_debet_kualitas_terburuk": null,
					"kualitas_kredit_terakhir": null,
					"bulan_kualitas_kredit_terakhir": null
				},
				"pasangan": null,
				"server_time": "2023-12-04T12:37:15+07:00",
				"duration_time": "0 ms"
			}
			`,
			errFinal: errors.New("error unmarshal data pefindo"),
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaSama_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORulesNil",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": null,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaSama_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules<=30",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 29,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 29,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 29,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaSama_Category1_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 60,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 60
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30",
					"overdue_last_ko_rules": 31,
					"overdue_last_12month_ko_rules": 50,
					"category": 3,
					"max_ovd_agunan_ko_rules": 31,
					"max_ovd_agunan_last_12month_ko_rules": 61,
					"max_ovd_non_agunan_ko_rules": 31,
					"max_ovd_non_agunan_last_12month_ko_rules": 61
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules>60_MaxOverdueKORules>30",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 61,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 61
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30",
					"overdue_last_ko_rules": 31,
					"overdue_last_12month_ko_rules": 50,
					"category": 3,
					"max_ovd_agunan_ko_rules": 31,
					"max_ovd_agunan_last_12month_ko_rules": 61,
					"max_ovd_non_agunan_ko_rules": 31,
					"max_ovd_non_agunan_last_12month_ko_rules": 61
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractYes_WoAgunanNo_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractYes_WoAgunanNo_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractYes_WoAgunanNo_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractYes_WoAgunanNo_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    0,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf("NAMA SAMA %s & "+constant.ADA_FASILITAS_WO_AGUNAN, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules<=30_KonsumenROAO_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 20,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 20,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 20,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf("NAMA SAMA %s & "+constant.ADA_FASILITAS_WO_AGUNAN, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    0,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 21000000,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 21000000,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    0,
				TotalBakiDebet: 21000000,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_Konsumen_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf("NAMA SAMA %s & "+constant.ADA_FASILITAS_WO_AGUNAN, "(III)"),
				NextProcess:    0,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractNo_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractNo_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractNo_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractNo_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 21000000,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 21000000,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    0,
				TotalBakiDebet: 21000000,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaSama_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_Konsumen_WoContractNo_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf("NAMA SAMA %s & "+constant.TIDAK_ADA_FASILITAS_WO_AGUNAN, "(III)"),
				NextProcess:    1,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaSama_MaxOverdueLast12MonthsKORules>60",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 61,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": null,
					"max_overdue_last12months_ko_rules": 61
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 61,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaSama_MaxOverdueLast12MonthsKORules>60",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 61,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": null,
					"max_overdue_last12months_ko_rules": 61
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 61,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaSama_MaxOverdueLast12MonthsKORulesNil",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": null,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": null,
					"max_overdue_last12months_ko_rules": null
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": null,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_SAMA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORulesNil",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "KK",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": null,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": null,
					"max_overdue_last12months_ko_rules": null
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": null,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORulesNil",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": null,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_CategoryNil",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": null,
					"max_overdue_ko_rules": null,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.PBK_NO_HIT,
				Decision:       constant.DECISION_PASS,
				Reason:         "PBK No Hit - Kategori Konsumen Null",
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaBeda_Category1_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules<=30",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 30,
					"max_overdue_last12months": 60,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 30,
					"max_overdue_last12months_ko_rules": 60
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 29,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30",
					"overdue_last_ko_rules": 30,
					"overdue_last_12month_ko_rules": 60,
					"category": 1,
					"max_ovd_agunan_ko_rules": 31,
					"max_ovd_agunan_last_12month_ko_rules": 61,
					"max_ovd_non_agunan_ko_rules": 31,
					"max_ovd_non_agunan_last_12month_ko_rules": 61
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaBeda_Category2_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules<=30",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 30,
					"max_overdue_last12months": 60,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 2,
					"max_overdue_ko_rules": 30,
					"max_overdue_last12months_ko_rules": 60
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 29,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30",
					"overdue_last_ko_rules": 31,
					"overdue_last_12month_ko_rules": 61,
					"category": 2,
					"max_ovd_agunan_ko_rules": 31,
					"max_ovd_agunan_last_12month_ko_rules": 61,
					"max_ovd_non_agunan_ko_rules": 30,
					"max_ovd_non_agunan_last_12month_ko_rules": 60
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_SESUAI_BNPL, "(II)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaBeda_Category3_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules<=30",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 30,
					"max_overdue_last12months": 60,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 3,
					"max_overdue_ko_rules": 30,
					"max_overdue_last12months_ko_rules": 60
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 29,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30",
					"overdue_last_ko_rules": 31,
					"overdue_last_12month_ko_rules": 61,
					"category": 3,
					"max_ovd_agunan_ko_rules": 30,
					"max_ovd_agunan_last_12month_ko_rules": 60,
					"max_ovd_non_agunan_ko_rules": 31,
					"max_ovd_non_agunan_last_12month_ko_rules": 61
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_SESUAI_BNPL, "(III)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractYes_WoAgunanNo_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf("NAMA BEDA %s & "+constant.TIDAK_ADA_FASILITAS_WO_AGUNAN, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules<=30_KonsumenNew_WoContractYes_WoAgunanNo_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 20,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 20,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 20,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractYes_WoAgunanNo_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractYes_WoAgunanNo_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractYes_WoAgunanNo_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    0,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf("NAMA BEDA %s & "+constant.ADA_FASILITAS_WO_AGUNAN, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules<=30_KonsumenROAO_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 20,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 20,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 20,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf("NAMA BEDA %s & "+constant.ADA_FASILITAS_WO_AGUNAN, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    0,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 21000000,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 21000000,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    0,
				TotalBakiDebet: 21000000,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_Konsumen_WoContractYes_WoAgunanYes_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf("NAMA BEDA %s & "+constant.ADA_FASILITAS_WO_AGUNAN, "(I)"),
				NextProcess:    0,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractNo_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf("NAMA BEDA %s & "+constant.TIDAK_ADA_FASILITAS_WO_AGUNAN, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules<=30_KonsumenNew_WoContractNo_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 20,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 20,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 20,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenNew_WoContractNo_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractNo_TotalBakiDebetNonAgunan<=20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_KonsumenROAO_WoContractNo_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 21000000,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 21000000,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf(constant.NAMA_BEDA_BAKI_DEBET_TIDAK_SESUAI_BNPL, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    0,
				TotalBakiDebet: 21000000,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules<=60_MaxOverdueKORules>30_Konsumen_WoContractNo_TotalBakiDebetNonAgunan>20jt",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": 31,
					"max_overdue_last12months_ko_rules": 50
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": {
					"search_id": "kp_656d6e44a6111",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf("NAMA BEDA %s & "+constant.TIDAK_ADA_FASILITAS_WO_AGUNAN, "(I)"),
				NextProcess:    1,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_REJECT_FilteringPefindo_BPKBNamaBeda_MaxOverdueLast12MonthsKORules>60",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "O",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 61,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": true,
					"wo_ada_agunan": false,
					"total_baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": null,
					"max_overdue_last12months_ko_rules": 61
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": 61,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 1,
					"wo_ada_agunan": 0,
					"baki_debet_non_agunan": 873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_REJECT_CODE,
				Decision:       constant.DECISION_REJECT,
				Reason:         fmt.Sprintf("NAMA BEDA %s & "+constant.TIDAK_ADA_FASILITAS_WO_AGUNAN, "(I)"),
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    0,
				TotalBakiDebet: 873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_KonsumenNew_Unscore",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "201",
				"status": "SUCCESS",
				"result": "NOT_MATCH",
				"konsumen": {
					"search_id": "kp_653f2dcd17887",
					"pefindo_id": null,
					"score": null,
					"max_overdue": null,
					"max_overdue_last12months": null,
					"angsuran_aktif_pbk": null,
					"wo_contract": null,
					"wo_ada_agunan": null,
					"baki_debet_non_agunan": null,
					"detail_report": null,
					"plafon": null,
					"fasilitas_aktif": null,
					"kualitas_kredit_terburuk": null,
					"bulan_kualitas_terburuk": null,
					"baki_debet_kualitas_terburuk": null,
					"kualitas_kredit_terakhir": null,
					"bulan_kualitas_kredit_terakhir": null
				},
				"pasangan": null,
				"server_time": "2023-10-30T11:15:10+07:00",
				"duration_time": "1000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.NAMA_SAMA_UNSCORE_NEW_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         "PBK Tidak Ditemukan - " + constant.STATUS_KONSUMEN_NEW,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_KonsumenROAO_Unscore",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "201",
				"status": "SUCCESS",
				"result": "NOT_MATCH",
				"konsumen": {
					"search_id": "kp_653f2dcd17887",
					"pefindo_id": null,
					"score": null,
					"max_overdue": null,
					"max_overdue_last12months": null,
					"angsuran_aktif_pbk": null,
					"wo_contract": null,
					"wo_ada_agunan": null,
					"baki_debet_non_agunan": null,
					"detail_report": null,
					"plafon": null,
					"fasilitas_aktif": null,
					"kualitas_kredit_terburuk": null,
					"bulan_kualitas_terburuk": null,
					"baki_debet_kualitas_terburuk": null,
					"kualitas_kredit_terakhir": null,
					"bulan_kualitas_kredit_terakhir": null
				},
				"pasangan": null,
				"server_time": "2023-10-30T11:15:10+07:00",
				"duration_time": "1000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.NAMA_SAMA_UNSCORE_RO_AO_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         "PBK Tidak Ditemukan - " + constant.STATUS_KONSUMEN_RO_AO,
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_KonsumenNew_ServiceUnavailable",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "202",
				"status": "ERROR",
				"result": "NOT_MATCH",
				"konsumen": {
					"search_id": "kp_653f2dcd17887",
					"pefindo_id": null,
					"score": null,
					"max_overdue": null,
					"max_overdue_last12months": null,
					"angsuran_aktif_pbk": null,
					"wo_contract": null,
					"wo_ada_agunan": null,
					"baki_debet_non_agunan": null,
					"detail_report": null,
					"plafon": null,
					"fasilitas_aktif": null,
					"kualitas_kredit_terburuk": null,
					"bulan_kualitas_terburuk": null,
					"baki_debet_kualitas_terburuk": null,
					"kualitas_kredit_terakhir": null,
					"bulan_kualitas_kredit_terakhir": null
				},
				"pasangan": null,
				"server_time": "2023-10-30T11:15:10+07:00",
				"duration_time": "1000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.NAMA_SAMA_UNSCORE_NEW_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_FILTERING_PBK_DOWN,
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_KonsumenROAO_ServiceUnavailable",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "202",
				"status": "ERROR",
				"result": "NOT_MATCH",
				"konsumen": {
					"search_id": "kp_653f2dcd17887",
					"pefindo_id": null,
					"score": null,
					"max_overdue": null,
					"max_overdue_last12months": null,
					"angsuran_aktif_pbk": null,
					"wo_contract": null,
					"wo_ada_agunan": null,
					"baki_debet_non_agunan": null,
					"detail_report": null,
					"plafon": null,
					"fasilitas_aktif": null,
					"kualitas_kredit_terburuk": null,
					"bulan_kualitas_terburuk": null,
					"baki_debet_kualitas_terburuk": null,
					"kualitas_kredit_terakhir": null,
					"bulan_kualitas_kredit_terakhir": null
				},
				"pasangan": null,
				"server_time": "2023-10-30T11:15:10+07:00",
				"duration_time": "1000 ms"
			}`,
			resFinal: response.DupcheckResult{
				Code:           constant.NAMA_SAMA_UNSCORE_RO_AO_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         constant.REASON_FILTERING_PBK_DOWN,
				StatusKonsumen: constant.STATUS_KONSUMEN_RO_AO,
				NextProcess:    1,
			},
		},
		{
			name: "TEST_PASS_FilteringPefindo_PBKNoHit",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			statusKonsumen: constant.STATUS_KONSUMEN_NEW,
			resFinal: response.DupcheckResult{
				Code:           constant.PBK_NO_HIT,
				Reason:         "Akses ke PBK ditutup",
				StatusKonsumen: constant.STATUS_KONSUMEN_NEW,
			},
		},
		{
			name: "TEST_ERROR_FilteringPefindo_UpdateData",
			req: request.FilteringRequest{
				Data: request.Data{
					BPKBName:          "K",
					ProspectID:        "SAL02400020230727002",
					BranchID:          "426",
					IDNumber:          "3275066006789999",
					LegalName:         "TEST LEGAL NAME",
					BirthPlace:        "JAKARTA",
					BirthDate:         "1971-04-15",
					SurgateMotherName: "TEST MOTHER NAME",
					Gender:            "M",
					MaritalStatus:     "S",
					ProfessionID:      "WRST",
					MobilePhone:       "085720230309",
				},
			},
			resPefindoCode: 200,
			resPefindoBody: `{
				"code": "200",
				"status": "SUCCESS",
				"result": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": null,
					"max_overdue_last12months": null,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": false,
					"wo_ada_agunan": true,
					"total_baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"category": 1,
					"max_overdue_ko_rules": null,
					"max_overdue_last12months_ko_rules": null
				},
				"konsumen": {
					"search_id": "kp_656d6e44a6bf8",
					"pefindo_id": "1676593952",
					"score": "VERY HIGH RISK",
					"max_overdue": 31,
					"max_overdue_last12months": 50,
					"angsuran_aktif_pbk": 4407662,
					"wo_contract": 0,
					"wo_ada_agunan": 1,
					"baki_debet_non_agunan": 20873675,
					"detail_report": "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
					"plafon": 7928083,
					"fasilitas_aktif": 7,
					"kualitas_kredit_terburuk": "COLL 5",
					"bulan_kualitas_terburuk": "2023-10-31",
					"baki_debet_kualitas_terburuk": 6000000,
					"kualitas_kredit_terakhir": "COLL 5",
					"bulan_kualitas_kredit_terakhir": "2022-11-30"
				},
				"pasangan": null,
				"server_time": "2023-12-04T13:15:46+07:00",
				"duration_time": "78000 ms"
			}`,
			errUpdateData: errors.New("failed update data filtering"),
			resFinal: response.DupcheckResult{
				Code:           constant.WO_AGUNAN_PASS_CODE,
				Decision:       constant.DECISION_PASS,
				Reason:         fmt.Sprintf("NAMA SAMA %s & "+constant.TIDAK_ADA_FASILITAS_WO_AGUNAN, "(I)"),
				NextProcess:    1,
				TotalBakiDebet: 20873675,
				PbkReport:      "http://10.9.100.121/minilos_static_files/data/pefindo/pdf/pdf_kp_656d6e44a6bf8_1676593952.pdf",
			},
			errFinal: errors.New("failed update data filtering"),
		},
	}

	for _, tc := range testCases {
		t.Run(tc.name, func(t *testing.T) {
			mockRepository := new(filteringMock.Repository)
			mockElaborateRepository := new(elaborateMock.Repository)
			mockHttpClient := new(httpclient.MockHttpClient)

			rst := resty.New()
			httpmock.ActivateNonDefault(rst.GetClient())
			defer httpmock.DeactivateAndReset()

			httpmock.RegisterResponder(constant.METHOD_POST, os.Getenv("PBK_URL"), httpmock.NewStringResponder(tc.resPefindoCode, tc.resPefindoBody))
			resp, _ := rst.R().Post(os.Getenv("PBK_URL"))

			mockHttpClient.On("EngineAPI", ctx, constant.FILTERING_LOG, os.Getenv("PBK_URL"), mock.Anything, map[string]string{}, constant.METHOD_POST, false, 0, timeOut, tc.req.Data.ProspectID, accessToken).Return(resp, tc.errPefindo).Once()

			mockRepository.On("UpdateData", mock.Anything).Return(tc.errUpdateData).Once()
			mockElaborateRepository.On("GetClusterBranchElaborate", mock.Anything, mock.Anything, mock.Anything).Return(entity.ClusterBranch{Cluster: "Cluster A"}, nil).Once()

			if tc.name == "TEST_PASS_FilteringPefindo_PBKNoHit" {
				os.Setenv("ACTIVE_PBK", "false")
			} else {
				os.Setenv("ACTIVE_PBK", "true")
			}

			usecase := NewUsecase(mockRepository, mockElaborateRepository, mockHttpClient)

			result, _, err := usecase.FilteringPefindo(ctx, tc.req, tc.statusKonsumen, tc.kategoriStatusKonsumen, accessToken)

			require.Equal(t, tc.resFinal, result)
			require.Equal(t, tc.errFinal, err)
		})
	}
}
